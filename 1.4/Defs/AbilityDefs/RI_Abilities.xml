<?xml version="1.0" encoding="utf-8" ?>
<Defs>
	
	<!--==========测试法门==========-->
	<!--炼气功法——测试-->
	<!--固基功法——测试-->
	<!--金丹功法——测试-->
	<!--元婴功法——测试-->
	<!--合道功法——测试-->
	<!--大乘功法——测试-->
	<!--成仙功法——测试-->

	<!--父类-->
  <AbilityDef Name="RI_PsycastBase" Abstract="True">
    <abilityClass>WhoXiuXian.Abilities.RI_PsyCastBase</abilityClass>
    <category>Psychic</category>
    <statBases>
      <Ability_Duration>0</Ability_Duration>
    </statBases>
    <warmupSound>PsycastCastLoop</warmupSound>
    <verbProperties>
      <verbClass>Verb_CastPsycast</verbClass>
      <range>24.9</range>
      <requireLineOfSight>True</requireLineOfSight>
      <warmupTime>1</warmupTime>
      <targetParams>
        <canTargetBuildings>False</canTargetBuildings>
        <canTargetAnimals>False</canTargetAnimals>
        <thingCategory>Item</thingCategory>
        <mapObjectTargetsMustBeAutoAttackable>False</mapObjectTargetsMustBeAutoAttackable>
      </targetParams>
    </verbProperties>
  </AbilityDef>
	
	<!--====================内丹法门====================-->

	<!--炼气功法——周天功法-->
	<AbilityDef  ParentName="PsycastBase" MayRequire="Ludeon.RimWorld.Royalty">
		<defName>RI_Ability_InternalFunction</defName>
		<label>周天功法</label>
		<description>内丹法门独有修炼功法以控制呼吸的频率和固定的动作来调整体态，令身体处于更好吸收灵气的状态。</description>
		<iconPath>Ability/InternalPellet/RI_Ability_InternalFunction</iconPath>
		<targetRequired>False</targetRequired>
		<canUseAoeToGetTargets>False</canUseAoeToGetTargets>
		<statBases>
			<Ability_EntropyGain>0</Ability_EntropyGain>
			<Ability_PsyfocusCost>0</Ability_PsyfocusCost>
			<Ability_Duration>120</Ability_Duration>
			<Ability_EffectRadius>10</Ability_EffectRadius>
		</statBases>
		<verbProperties>
			<warmupTime>3</warmupTime>
			<range>0</range>
			<requireLineOfSight>False</requireLineOfSight>
			<targetParams>
				<canTargetSelf>True</canTargetSelf>
			</targetParams>
		</verbProperties>
		<comps>
			<li Class="CompProperties_AbilityGiveHediff">
				<compClass>CompAbilityEffect_GiveHediff</compClass>
				<hediffDef>RI_InternalFunctionHediff</hediffDef>
				<psychic>True</psychic>
				<replaceExisting>True</replaceExisting>
				<onlyApplyToSelf>True</onlyApplyToSelf>
			</li>
			<li Class="WhoXiuXian.Abilities.CompProperties_SpawnMoteCasting">
				<moteCastDef>RI_Ability_InternalFunction_Mote</moteCastDef>
			</li>
		</comps>
	</AbilityDef>

	<!--固基功法——飞火-->
	<AbilityDef ParentName="RI_PsycastBase">
		<defName>RI_Ability_Firefly</defName>
		<label>飞火</label>
		<description>从指尖射出一颗凝聚的灵气，同时往其中注入正负电荷引发链式反应，最终形成一颗火球射向指定的位置。</description>
		<iconPath>Ability/InternalPellet/RI_Ability_Firefly</iconPath>
		<canUseAoeToGetTargets>true</canUseAoeToGetTargets>
		<statBases>
			<Ability_EntropyGain>0</Ability_EntropyGain>
			<Ability_PsyfocusCost>0</Ability_PsyfocusCost>
		</statBases>
		<verbProperties>
			<warmupTime>0.05</warmupTime>
			<range>20</range>
			<targetParams>
				<canTargetPawns>True</canTargetPawns>
				<canTargetLocations>True</canTargetLocations>
				<canTargetAnimals>True</canTargetAnimals>
			</targetParams>
		</verbProperties>
		<comps>
			<li Class="CompProperties_AbilityLaunchProjectile">
				<projectileDef>Firefly</projectileDef>
			</li>
			<li Class="WhoXiuXian.Abilities.CompProperties_SpawnMoteCasting">
				<moteCastDef>RI_Ability_FlyFire_Mote</moteCastDef>
			</li>
		</comps>
	</AbilityDef>

	<ThingDef ParentName="BaseBullet">
		<defName>Firefly</defName>
		<label>飞火</label>
		<thingClass>WhoXiuXian.RI_projectile_Firefly</thingClass>
		<graphicData>
			<texPath>Effects/InternalPellet/Firefly</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<projectile>
			<damageDef>RangedStab</damageDef>
			<damageAmountBase>20</damageAmountBase>
			<armorPenetrationBase>1</armorPenetrationBase>
			<stoppingPower>1</stoppingPower>
			<speed>70</speed>
		</projectile>
	</ThingDef>
	
	<!--金丹功法——止观-->
	<AbilityDef ParentName="PsycastBase" MayRequire="Ludeon.RimWorld.Royalty">
		<defName>RI_Ability_Samatha</defName>
		<label>止观</label>
		<description>通过特殊的呼吸法催动丹田，将灵气送往全身和大脑使得自己平静下来，切断对情绪的感受力，与此同时还能提高灵气的使用效率。</description>
		<level>0</level>
		<iconPath>Ability/InternalPellet/RI_Ability_Samatha</iconPath>
		<targetRequired>False</targetRequired>
		<canUseAoeToGetTargets>False</canUseAoeToGetTargets>
		<statBases>
			<Ability_EntropyGain>0</Ability_EntropyGain>
			<Ability_PsyfocusCost>0</Ability_PsyfocusCost>
			<Ability_Duration>200</Ability_Duration>
			<Ability_EffectRadius>10</Ability_EffectRadius>
		</statBases>
		<verbProperties>
			<warmupTime>0.5</warmupTime>
			<range>0</range>
			<requireLineOfSight>False</requireLineOfSight>
			<targetParams>
				<canTargetSelf>True</canTargetSelf>
			</targetParams>
		</verbProperties>
		<comps>
			<li Class="CompProperties_AbilityGiveHediff">
				<compClass>CompAbilityEffect_GiveHediff</compClass>
				<hediffDef>RI_SamathaHediff</hediffDef>
				<psychic>True</psychic>
				<replaceExisting>True</replaceExisting>
				<onlyApplyToSelf>True</onlyApplyToSelf>
			</li>
			<li Class="WhoXiuXian.Abilities.CompProperties_SpawnMoteCasting">
				<moteCastDef>RI_Ability_Samatha_Mote</moteCastDef>
			</li>
		</comps>
	</AbilityDef>

	<!--金丹功法——导引-->
	<AbilityDef  ParentName="PsycastBase" MayRequire="Ludeon.RimWorld.Royalty">
		<defName>RI_Ability_EnergyGuide</defName>
		<label>导引</label>
		<description>持续消耗灵气大约1小时消耗5点,提供“吐故纳新”buff,加速伤口恢复.可以随时关闭功法。</description>
		<iconPath>Ability/InternalPellet/RI_Ability_EnergyGuide</iconPath>
		<targetRequired>False</targetRequired>
		<canUseAoeToGetTargets>False</canUseAoeToGetTargets>
		<statBases>
			<Ability_EntropyGain>0</Ability_EntropyGain>
			<Ability_PsyfocusCost>0</Ability_PsyfocusCost>
			<Ability_Duration>40</Ability_Duration>
			<Ability_EffectRadius>10</Ability_EffectRadius>
		</statBases>
		<verbProperties>
			<warmupTime>0.7</warmupTime>
			<range>0</range>
			<requireLineOfSight>False</requireLineOfSight>
			<targetParams>
				<canTargetSelf>True</canTargetSelf>
			</targetParams>
		</verbProperties>
		<comps>
			<li Class="CompProperties_AbilityGiveHediff">
				<compClass>CompAbilityEffect_GiveHediff</compClass>
				<hediffDef>RI_ExhaleTheOldAndInhaleTheNew</hediffDef>
				<psychic>True</psychic>
				<replaceExisting>True</replaceExisting>
				<onlyApplyToSelf>True</onlyApplyToSelf>
			</li>
			<li Class="WhoXiuXian.Abilities.CompProperties_SpawnMoteCasting">
				<moteCastDef>RI_Ability_EnergyGuide_Mote</moteCastDef>
			</li>
		</comps>
	</AbilityDef>
	
	<!--元婴功法——惊雷-->	
	<AbilityDef ParentName="RI_PsycastBase">
		<defName>RI_Ability_Thunder</defName>
		<label>惊雷</label>
		<description>催动丹田中的灵气并凝聚成电荷释放在心念的位置，这类似于人造的引雷针。可以从远处的雷雨云中引来闪电瞬间轰击一小块区域，形成极强的杀伤力。</description>
		<iconPath>Ability/InternalPellet/RI_Ability_Thunder</iconPath>
		<canUseAoeToGetTargets>false</canUseAoeToGetTargets>
		<aiCanUse>true</aiCanUse>
		<statBases>
			<Ability_EntropyGain>0</Ability_EntropyGain>
			<Ability_PsyfocusCost>0</Ability_PsyfocusCost>
			<Ability_EffectRadius>1</Ability_EffectRadius>
		</statBases>
		<verbProperties>
			<warmupTime>0.05</warmupTime>
			<range>35</range>
			<targetParams>
				<canTargetPawns>True</canTargetPawns>
				<canTargetLocations>True</canTargetLocations>
			</targetParams>
		</verbProperties>
		<comps>
			<li Class="WhoXiuXian.Abilities.CompProperties_AbilityCallThunder">
			<range>29.9</range>
				<!--<goodwillImpact>-35</goodwillImpact>-->
			</li>
			<li Class="WhoXiuXian.Abilities.CompProperties_SpawnMoteCasting">
				<moteCastDef>RI_Ability_Thunder_Mote</moteCastDef>
			</li>
		</comps>
	</AbilityDef>

	<!--合道功法——雷铠-->
	<AbilityDef ParentName="PsycastBase" MayRequire="Ludeon.RimWorld.Royalty">
		<defName>RI_Ability_ElectricShield</defName>
		<label>雷铠</label>
		<description>通过持续输出灵力制造出环绕在身边的正负电荷并且控制在一定的距离内高速旋转，形成了一圈可以抵挡子弹的护盾。任何飞来的子弹都会被电离气化。</description>
		<level>0</level>
		<iconPath>Ability/InternalPellet/RI_Ability_ElectricShield</iconPath>
		<targetRequired>False</targetRequired>
		<canUseAoeToGetTargets>False</canUseAoeToGetTargets>
		<statBases>
			<Ability_EntropyGain>0</Ability_EntropyGain>
			<Ability_PsyfocusCost>0</Ability_PsyfocusCost>
			<Ability_Duration>200</Ability_Duration>
			<Ability_EffectRadius>10</Ability_EffectRadius>
		</statBases>
		<verbProperties>
			<warmupTime>0.6</warmupTime>
			<range>0</range>
			<requireLineOfSight>False</requireLineOfSight>
			<targetParams>
				<canTargetSelf>True</canTargetSelf>
			</targetParams>
		</verbProperties>
		<comps>
			<li Class="CompProperties_AbilityGiveHediff">
				<compClass>CompAbilityEffect_GiveHediff</compClass>
				<hediffDef>ThunderShield</hediffDef>
				<psychic>True</psychic>
				<replaceExisting>True</replaceExisting>
				<onlyApplyToSelf>True</onlyApplyToSelf>
			</li>
			<li Class="Rimworld.CompProperties_Shield">
			</li>
			<li Class="WhoXiuXian.Abilities.CompProperties_SpawnMoteCasting">
				<moteCastDef>RI_Ability_ElectricShield_Mote</moteCastDef>
			</li>
		</comps>
	</AbilityDef>

	<!--大乘功法——存神-->
	<AbilityDef  ParentName="PsycastBase" MayRequire="Ludeon.RimWorld.Royalty">
		<defName>RI_Ability_EnergyRecovery</defName>
		<label>存神</label>
		<description>添加“灵脉翻涌”buff，持续3小时。暂时减少疼痛给所有伤口包扎，提高射击准确度。</description>
		<iconPath>Ability/InternalPellet/RI_Ability_EnergyRecovery</iconPath>
		<targetRequired>False</targetRequired>
		<canUseAoeToGetTargets>False</canUseAoeToGetTargets>
		<statBases>
			<Ability_EntropyGain>0</Ability_EntropyGain>
			<Ability_PsyfocusCost>0</Ability_PsyfocusCost>
			<Ability_Duration>120</Ability_Duration>
			<Ability_EffectRadius>10</Ability_EffectRadius>
		</statBases>
		<verbProperties>
			<warmupTime>0.3</warmupTime>
			<range>0</range>
			<requireLineOfSight>False</requireLineOfSight>
			<targetParams>
				<canTargetSelf>True</canTargetSelf>
			</targetParams>
		</verbProperties>
		<comps>
			<li Class="CompProperties_AbilityGiveHediff">
				<compClass>CompAbilityEffect_GiveHediff</compClass>
				<hediffDef>RI_SpiritualPulseSurging</hediffDef>
				<psychic>True</psychic>
				<replaceExisting>True</replaceExisting>
				<onlyApplyToSelf>True</onlyApplyToSelf>
			</li>
			<li Class="WhoXiuXian.Abilities.CompProperties_SpawnMoteCasting">
				<moteCastDef>RI_Ability_EnergyRecovery_Mote</moteCastDef>
			</li>
		</comps>
	</AbilityDef>

	<!--成仙功法——玉虎鸣-->
	<AbilityDef ParentName="PsycastBase">
		<defName>RI_Ability_DestructiveThunder</defName>
		<label>玉虎鸣</label>
		<description>将丹田催动到极限释放灵气直接拉来远处的雷雨云，并且以极细腻的对电荷的操作制造出一颗球形闪电用来指引闪电的方向。球形闪电本身没有任何攻击力，在到达目的地后消散引来范围极大的落雷打击，一出此招，引发天地变化，威力非凡。</description>
		<iconPath>Ability/InternalPellet/RI_Ability_DestructiveThunder</iconPath>
		<canUseAoeToGetTargets>false</canUseAoeToGetTargets>
		<statBases>
			<Ability_EntropyGain>0</Ability_EntropyGain>
			<Ability_PsyfocusCost>0</Ability_PsyfocusCost>
		</statBases>
		<verbProperties>
			<warmupTime>1</warmupTime>
			<range>55.9</range>
			<requireLineOfSight>False</requireLineOfSight>
			<targetParams>
				<canTargetPawns>True</canTargetPawns>
				<canTargetLocations>True</canTargetLocations>
			</targetParams>
		</verbProperties>
		<comps>
			<li Class="CompProperties_AbilityLaunchProjectile">
				<projectileDef>Energyball</projectileDef>
			</li>
			<li Class="WhoXiuXian.Abilities.CompProperties_SpawnMoteCasting">
				<moteCastDef>RI_Ability_DestructiveThunder_Mote</moteCastDef>
			</li>
		</comps>
	</AbilityDef>

	<ThingDef ParentName="BaseBullet">
		<defName>Energyball</defName>
		<label>雷球</label>
		<description>A ball of ENERGYYYYYYYYYYYY launched by a conflagrator</description>
		<thingClass>WhoXiuXian.RI_projectile_ThunderStorm</thingClass>
		<graphicData>
			<texPath>Effects/InternalPellet/Energyball</texPath>
			<graphicClass>Graphic_Random</graphicClass>
			<shaderType>MoteGlow</shaderType>
			<drawSize>1.2</drawSize>
		</graphicData>
		<projectile>
			<explosionRadius>8</explosionRadius>
			<damageDef>Stun</damageDef>
			<damageAmount>60</damageAmount>
			<speed>20</speed>
			<arcHeightFactor>50</arcHeightFactor>
			<ai_IsIncendiary>true</ai_IsIncendiary>
			<shadowSize>0.6</shadowSize>
		</projectile>
	</ThingDef>

	<GameConditionDef>
		<defName>EnergyThunder</defName>
		<conditionClass>WhoXiuXian.GameCondition_Energystorm</conditionClass>
		<label>玉虎鸣</label>
		<description>强大的仙法雷暴</description>
		<endMessage>玉虎鸣结束了</endMessage>
		<letterText>A freak localized flashstorm is striking a small area with lightning. This can cause massive fires</letterText>
		<letterDef>NegativeEvent</letterDef>
		<preventRain>true</preventRain>
		<canBePermanent>true</canBePermanent>
	</GameConditionDef>

	<!--====================炼体法门====================-->

	<!--炼气功法——结跏趺坐-->
	<AbilityDef  ParentName="PsycastBase" MayRequire="Ludeon.RimWorld.Royalty">
		<defName>RI_Activity_LotusPosition</defName>
		<label>结跏趺坐</label>
		<description>内丹法门独有修炼功法以控制呼吸的频率和固定的动作来调整体态，令身体处于更好吸收灵气的状态。</description>
		<iconPath>Ability/PhysicalStrengthen/RI_Ability_LotusPosition</iconPath>
		<targetRequired>False</targetRequired>
		<canUseAoeToGetTargets>False</canUseAoeToGetTargets>
		<statBases>
			<Ability_EntropyGain>0</Ability_EntropyGain>
			<Ability_PsyfocusCost>0</Ability_PsyfocusCost>
			<Ability_Duration>120</Ability_Duration>
			<Ability_EffectRadius>10</Ability_EffectRadius>
		</statBases>
		<verbProperties>
			<warmupTime>0</warmupTime>
			<range>0</range>
			<requireLineOfSight>False</requireLineOfSight>
			<targetParams>
				<canTargetSelf>True</canTargetSelf>
			</targetParams>
		</verbProperties>
		<comps>
			<li Class="CompProperties_AbilityGiveHediff">
				<compClass>CompAbilityEffect_GiveHediff</compClass>
				<hediffDef>RI_LotusPositionHediff</hediffDef>
				<psychic>True</psychic>
				<replaceExisting>True</replaceExisting>
				<onlyApplyToSelf>True</onlyApplyToSelf>
			</li>
		</comps>
	</AbilityDef>

	<!--固基功法——金刚拳-->
	<AbilityDef ParentName="RI_PsycastBase">
		<defName>RI_Ability_VajraBoxing</defName>
		<label>金刚拳</label>
		<description>单体攻击</description>
		<jobDef>CastAbilityOnThingMelee</jobDef>
		<iconPath>Ability/PhysicalStrengthen/RI_Ability_VajraBoxing</iconPath>
		<statBases>
			<Ability_EntropyGain>0</Ability_EntropyGain>
			<Ability_PsyfocusCost>0</Ability_PsyfocusCost>
			<Ability_Duration>3000</Ability_Duration>
		</statBases>
		<verbProperties>
			<warmupTime>5</warmupTime>
			<range>50</range>
			<targetParams>
				<canTargetSelf>false</canTargetSelf>
				<canTargetAnimals>True</canTargetAnimals>
			</targetParams>
		</verbProperties>
		<comps>
			<li Class="WhoXiuXian.Abilities.CompProperties_AbilityVajraBoxing">
				<beatback>false</beatback>
				<damage>15</damage>
			</li>
		</comps>
	</AbilityDef>

	<!--固基功法——撑筋拔骨-->
	<AbilityDef  ParentName="PsycastBase" MayRequire="Ludeon.RimWorld.Royalty">
		<defName>RI_Ability_StretchingExercise</defName>
		<label>撑筋拔骨</label>
		<description>骨正筋柔，气血以流，通过往身体里引入灵气，来辅助筋骨的锻炼，能起到事半功倍的效果。</description>
		<iconPath>Ability/PhysicalStrengthen/RI_Ability_StretchingExercise</iconPath>
		<targetRequired>False</targetRequired>
		<canUseAoeToGetTargets>False</canUseAoeToGetTargets>
		<statBases>
			<Ability_EntropyGain>0</Ability_EntropyGain>
			<Ability_PsyfocusCost>0</Ability_PsyfocusCost>
			<Ability_Duration>120</Ability_Duration>
		</statBases>
		<verbProperties>
			<warmupTime>0</warmupTime>
			<range>0</range>
			<requireLineOfSight>False</requireLineOfSight>
			<targetParams>
				<canTargetSelf>True</canTargetSelf>
			</targetParams>
		</verbProperties>
		<comps>
			<li Class="CompProperties_AbilityGiveHediff">
				<compClass>CompAbilityEffect_GiveHediff</compClass>
				<hediffDef>RI_StretchingExerciseHediff</hediffDef>
				<psychic>True</psychic>
				<replaceExisting>True</replaceExisting>
				<onlyApplyToSelf>True</onlyApplyToSelf>
			</li>
		</comps>
	</AbilityDef>

	<!--金丹功法——一苇轻功-->
	<AbilityDef Name="QuickJump">
		<defName>RI_Ability_QuickJump</defName>
		<label>一苇轻功</label>
		<description>一苇轻功</description>
		<iconPath>Ability/PhysicalStrengthen/RI_Ability_QuickJump</iconPath>
		<cooldownTicksRange>6</cooldownTicksRange>
		<hostile>false</hostile>
		<verbProperties>
			<verbClass>WhoXiuXian.RI_AbilityVerb_QuickJump</verbClass>
			<label>一苇轻功</label>
			<violent>true</violent>
			<forceNormalTimeSpeed>false</forceNormalTimeSpeed>
			<warmupTime>0.1</warmupTime>
			<range>7</range>
			<requireLineOfSight>true</requireLineOfSight>
			<soundCast>Longjump_Jump</soundCast>
			<soundLanding>Longjump_Land</soundLanding>
			<targetParams>
				<canTargetLocations>true</canTargetLocations>
				<canTargetPawns>true</canTargetPawns>
				<canTargetBuildings>false</canTargetBuildings>
			</targetParams>
		</verbProperties>
		<jobDef>CastJump</jobDef>
	</AbilityDef>

	<ThingDef ParentName="PawnFlyerBase">
		<defName>RI_QuickJumpFlyer</defName>
		<thingClass>WhoXiuXian.RI_QuickJumpFlyer</thingClass>
		<pawnFlyer>
			<flightDurationMin>0.01</flightDurationMin>
			<flightSpeed>10000</flightSpeed>
		</pawnFlyer>
	</ThingDef>
	
	<!--元婴功法——气血翻涌-->
	<AbilityDef  ParentName="PsycastBase" MayRequire="Ludeon.RimWorld.Royalty">
		<defName>RI_BloodBoil</defName>
		<label>气血翻涌</label>
		<description>辅助功法，使用功法后给一个持续3小时的“狂意”buff，近战能力大大提高，但buff结束后会陷入虚弱状态，扣意识，扣操作</description>
		<iconPath>Ability/PhysicalStrengthen/RI_Ability_BloodBoil</iconPath>
		<targetRequired>False</targetRequired>
		<canUseAoeToGetTargets>False</canUseAoeToGetTargets>
		<statBases>
			<Ability_EntropyGain>0</Ability_EntropyGain>
			<Ability_PsyfocusCost>0</Ability_PsyfocusCost>
			<Ability_Duration>120</Ability_Duration>
		</statBases>
		<verbProperties>
			<warmupTime>0</warmupTime>
			<range>0</range>
			<requireLineOfSight>False</requireLineOfSight>
			<targetParams>
				<canTargetSelf>True</canTargetSelf>
			</targetParams>
		</verbProperties>
		<comps>
			<li Class="CompProperties_AbilityGiveHediff">
				<compClass>CompAbilityEffect_GiveHediff</compClass>
				<hediffDef>RI_KY</hediffDef>
				<psychic>True</psychic>
				<replaceExisting>True</replaceExisting>
				<onlyApplyToSelf>True</onlyApplyToSelf>
			</li>
		</comps>
	</AbilityDef>

	<!--合道功法——寸拳-->
	<AbilityDef ParentName="PsycastBase">
		<defName>RI_Ability_OneInchPunch</defName>
		<label>寸拳</label>
		<description>击退特效拳</description>
		<jobDef>CastAbilityOnThingMelee</jobDef>
		<iconPath>Ability/PhysicalStrengthen/RI_Ability_OneInchPunch</iconPath>
		<statBases>
			<Ability_EntropyGain>0</Ability_EntropyGain>
			<Ability_PsyfocusCost>0</Ability_PsyfocusCost>
			<Ability_Duration>3000</Ability_Duration>
		</statBases>
		<verbProperties>
			<warmupTime>0</warmupTime>
			<range>50</range>
			<targetParams>
				<canTargetSelf>false</canTargetSelf>
				<canTargetAnimals>True</canTargetAnimals>
			</targetParams>
		</verbProperties>
		<comps>
			<li Class="WhoXiuXian.Abilities.CompProperties_AbilityVajraBoxing">
				<beatback>true</beatback>
				<damage>30</damage>
			</li>
		</comps>
	</AbilityDef>

	<!--大乘功法——焚天-->
	<AbilityDef Name="fentian">
		<defName>RI_Ability_IncendiarySky</defName>
		<label>焚天</label>
		<description>爆炸出拳</description>
		<iconPath>Ability/PhysicalStrengthen/RI_Ability_IncendiarySky</iconPath>
		<cooldownTicksRange>6</cooldownTicksRange>
		<hostile>false</hostile>
		<verbProperties>
			<verbClass>WhoXiuXian.RI_AbilityVerb_BurningEarth</verbClass>
			<label>焚天</label>
			<violent>true</violent>
			<forceNormalTimeSpeed>false</forceNormalTimeSpeed>
			<warmupTime>0.5</warmupTime>
			<range>19.9</range>
			<requireLineOfSight>true</requireLineOfSight>
			<soundCast>Longjump_Jump</soundCast>
			<soundLanding>Longjump_Land</soundLanding>
			<targetParams>
				<canTargetLocations>true</canTargetLocations>
				<canTargetPawns>true</canTargetPawns>
				<canTargetBuildings>false</canTargetBuildings>
			</targetParams>
		</verbProperties>
		<jobDef>CastJump</jobDef>
	</AbilityDef>

	<ThingDef ParentName="PawnFlyerBase">
		<defName>RI_BurningEarthFlyer</defName>
		<thingClass>WhoXiuXian.RI_BurningEarthFlyer</thingClass>
		<pawnFlyer>
			<flightDurationMin>0.05</flightDurationMin>
			<flightSpeed>120</flightSpeed>
		</pawnFlyer>
	</ThingDef>

	<!--成仙功法——修罗-->
	<AbilityDef  ParentName="PsycastBase" MayRequire="Ludeon.RimWorld.Royalty">
		<defName>RI_Ability_Asura</defName>
		<label>修罗</label>
		<description>进入修罗状态，极大提高近战能力和全部肉体状态，减少功法消耗，几乎是无敌的。但是等buff过去，会进入极度虚弱状态，战斗力不如普通人</description>
		<iconPath>Ability/PhysicalStrengthen/RI_Ability_Asura</iconPath>
		<targetRequired>False</targetRequired>
		<canUseAoeToGetTargets>False</canUseAoeToGetTargets>
		<statBases>
			<Ability_EntropyGain>0</Ability_EntropyGain>
			<Ability_PsyfocusCost>0</Ability_PsyfocusCost>
			<Ability_Duration>240</Ability_Duration>
		</statBases>
		<verbProperties>
			<warmupTime>0</warmupTime>
			<range>0</range>
			<requireLineOfSight>False</requireLineOfSight>
			<targetParams>
				<canTargetSelf>True</canTargetSelf>
			</targetParams>
		</verbProperties>
		<comps>
			<li Class="CompProperties_AbilityGiveHediff">
				<compClass>CompAbilityEffect_GiveHediff</compClass>
				<hediffDef>RI_AsuraHediff</hediffDef>
				<psychic>True</psychic>
				<replaceExisting>True</replaceExisting>
				<onlyApplyToSelf>True</onlyApplyToSelf>
			</li>
			<li Class="CompProperties_AbilityGiveHediff">
				<compClass>CompAbilityEffect_GiveHediff</compClass>
				<hediffDef>RI_ShadowWithMove</hediffDef>
			</li>
		</comps>
	</AbilityDef>

	<!--====================炼药法门====================-->
	
	<!--炼气功法——养形-->	
	<AbilityDef ParentName="RI_PsycastBase">
		<defName>RI_Ability_BodyTheory</defName>
		<label>养形</label>
		<description>提高工作效率</description>
		<jobDef>CastAbilityOnThingMelee</jobDef>
		<iconPath>Ability/ElixirsStrengthen/RI_Ability_BodyTheory</iconPath>
		<statBases>
			<Ability_EntropyGain>0</Ability_EntropyGain>
			<Ability_PsyfocusCost>0</Ability_PsyfocusCost>
			<Ability_Duration>3000</Ability_Duration>
		</statBases>
		<verbProperties>
			<warmupTime>0.5</warmupTime>
			<range>50</range>
			<targetParams>
				<canTargetSelf>false</canTargetSelf>
				<canTargetAnimals>True</canTargetAnimals>
			</targetParams>
		</verbProperties>
		<comps>
			<li Class="CompProperties_AbilityGiveHediff">
				<compClass>CompAbilityEffect_GiveHediff</compClass>
				<hediffDef>RI_BodyTheoryHediff</hediffDef>
				<psychic>True</psychic>
				<replaceExisting>True</replaceExisting>
			</li>
			<li Class="WhoXiuXian.Abilities.CompProperties_SpawnMoteCasting">
				<moteCastDef>RI_Ability_BodyTheory_Mote</moteCastDef>
			</li>
		</comps>
	</AbilityDef>

	<!--固基功法——推拿术-->
	<AbilityDef ParentName="RI_PsycastBase">
		<defName>RI_Ability_Massage</defName>
		<label>推拿术</label>
		<description>治愈一个包扎好的伤口</description>
		<jobDef>CastAbilityOnThingMelee</jobDef>
		<iconPath>Ability/ElixirsStrengthen/RI_Ability_Massage</iconPath>
		<statBases>
			<Ability_EntropyGain>0</Ability_EntropyGain>
			<Ability_PsyfocusCost>0</Ability_PsyfocusCost>
			<Ability_Duration>5</Ability_Duration>
		</statBases>
		<verbProperties>
			<warmupTime>0.3</warmupTime>
			<range>5</range>
			<targetParams>
				<canTargetSelf>True</canTargetSelf>
				<canTargetAnimals>True</canTargetAnimals>
			</targetParams>
		</verbProperties>
		<comps>
			<li Class="CompProperties_AbilityGiveHediff">
				<compClass>CompAbilityEffect_GiveHediff</compClass>
				<hediffDef>RI_ManipulationHediff</hediffDef>
				<psychic>True</psychic>
				<replaceExisting>True</replaceExisting>
			</li>
			<li Class="WhoXiuXian.Abilities.CompProperties_SpawnMoteCasting">
				<moteCastDef>RI_Ability_Massage_Mote</moteCastDef>
			</li>
		</comps>
	</AbilityDef>

	<!--金丹功法——针灸术-->
	<AbilityDef ParentName="RI_PsycastBase">
		<defName>RI_Ability_Acupuncture</defName>
		<label>针灸术</label>
		<description>减少疼痛，加快恢复速度</description>
		<jobDef>CastAbilityOnThingMelee</jobDef>
		<iconPath>Ability/ElixirsStrengthen/RI_Ability_Acupuncture</iconPath>
		<statBases>
			<Ability_EntropyGain>0</Ability_EntropyGain>
			<Ability_PsyfocusCost>0</Ability_PsyfocusCost>
			<Ability_Duration>3000</Ability_Duration>
		</statBases>
		<verbProperties>
			<warmupTime>0.5</warmupTime>
			<range>50</range>
			<targetParams>
				<canTargetSelf>false</canTargetSelf>
				<canTargetAnimals>True</canTargetAnimals>
			</targetParams>
		</verbProperties>
		<comps>
			<li Class="CompProperties_AbilityGiveHediff">
				<compClass>CompAbilityEffect_GiveHediff</compClass>
				<hediffDef>RI_AcupunctureHediff</hediffDef>
				<psychic>True</psychic>
				<replaceExisting>True</replaceExisting>
			</li>
			<li Class="WhoXiuXian.Abilities.CompProperties_SpawnMoteCasting">
				<moteCastDef>RI_Ability_Acupuncture_Mote</moteCastDef>
			</li>
		</comps>
	</AbilityDef>

	<!--大乘功法——逆转灵枢-->
	<AbilityDef ParentName="RI_PsycastBase">
		<defName>RI_Ability_SpiritProtection</defName>
		<label>逆转灵枢</label>
		<description>只有顶级的炼药师才能掌握的功法，通过丰富的医疗经验和灵气辅助，检视人体内的所有经脉，再以灵气凝结成人体组织，输入体内堵死的经脉，替换老去的细胞，从而实现返老还童的效果</description>
		<jobDef>CastAbilityOnThingMelee</jobDef>
		<iconPath>Ability/ElixirsStrengthen/RI_Ability_SpiritProtection</iconPath>
		<statBases>
			<Ability_EntropyGain>0</Ability_EntropyGain>
			<Ability_PsyfocusCost>0</Ability_PsyfocusCost>
			<Ability_Duration>5</Ability_Duration>
		</statBases>
		<verbProperties>
			<warmupTime>0.8</warmupTime>
			<range>50</range>
			<targetParams>
				<canTargetSelf>True</canTargetSelf>
				<canTargetAnimals>True</canTargetAnimals>
			</targetParams>
		</verbProperties>
		<comps>
			<li Class="CompProperties_AbilityGiveHediff">
				<compClass>CompAbilityEffect_GiveHediff</compClass>
				<hediffDef>RI_ManipulationHediff</hediffDef>
				<psychic>True</psychic>
				<replaceExisting>True</replaceExisting>
				<onlyApplyToSelf>True</onlyApplyToSelf>
			</li>
			<li Class="WhoXiuXian.Abilities.CompProperties_AbilityAgeReversal">
			</li>
			<li Class="WhoXiuXian.Abilities.CompProperties_SpawnMoteCasting">
				<moteCastDef>RI_Ability_SpiritProtection_Mote</moteCastDef>
			</li>
		</comps>
	</AbilityDef>
	<!--成仙功法——信春哥-->
	<AbilityDef ParentName="RI_PsycastBase">
		<defName>RI_Ability_Resurrect</defName>
		<label>丹魄还魂</label>
		<description>只有顶级的炼药师才能掌握的功法，在白骨上生长出肌肉和血管，就连失去的大脑也能填补，最后用灵气模拟出脑细胞，实现起死回生。</description>
		<jobDef>CastAbilityOnThingMelee</jobDef>
		<iconPath>Ability/ElixirsStrengthen/RI_Ability_Resurrect</iconPath>
		<statBases>
			<Ability_EntropyGain>0</Ability_EntropyGain>
			<Ability_PsyfocusCost>0</Ability_PsyfocusCost>
			<Ability_Duration>5</Ability_Duration>
		</statBases>
		<verbProperties>
			<warmupTime>10</warmupTime>
			<range>50</range>
			<targetParams>
				<canTargetCorpses>True</canTargetCorpses>
				<canTargetAnimals>True</canTargetAnimals>
			</targetParams>
		</verbProperties>
		<comps>
			<li Class="WhoXiuXian.Abilities.CompProperties_AbilityResurrect">
			</li>
			<li Class="WhoXiuXian.Abilities.CompProperties_SpawnMoteCasting">
				<moteCastDef>RI_Ability_Resurrect_Mote</moteCastDef>
			</li>
		</comps>
	</AbilityDef>


</Defs>

